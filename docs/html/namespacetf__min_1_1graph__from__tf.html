<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>TFMin - Minimal Tensorflow Deployer: tf_min.graph_from_tf Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TFMin - Minimal Tensorflow Deployer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>tf_min</b></li><li class="navelem"><a class="el" href="namespacetf__min_1_1graph__from__tf.html">graph_from_tf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tf_min.graph_from_tf Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d238a0d436b5e2bcd1c3b41be07c544"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d238a0d436b5e2bcd1c3b41be07c544"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>tf_type_to_tfmin</b> (tf_type)</td></tr>
<tr class="separator:a2d238a0d436b5e2bcd1c3b41be07c544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb7e10021300099e53b64de5b4a3231"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bb7e10021300099e53b64de5b4a3231"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>tf_shape_to_tfmin</b> (tf_shape)</td></tr>
<tr class="separator:a8bb7e10021300099e53b64de5b4a3231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05455fa3fc383854f12f44c15ec0cae"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#ae05455fa3fc383854f12f44c15ec0cae">get_opr_input_params</a> (tf_opr, sess)</td></tr>
<tr class="separator:ae05455fa3fc383854f12f44c15ec0cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1543f1362d09d71cf28af89ef5b54fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1543f1362d09d71cf28af89ef5b54fd"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>add_tf_tensor</b> (graph, tf_tensor, sess)</td></tr>
<tr class="separator:ac1543f1362d09d71cf28af89ef5b54fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b258540f81644a3d3b9c64a9dc9e40"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6b258540f81644a3d3b9c64a9dc9e40"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>add_tf_op</b> (graph, tf_op, sess)</td></tr>
<tr class="separator:ac6b258540f81644a3d3b9c64a9dc9e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa48da3971179ee180374c0c500e9ba33"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa48da3971179ee180374c0c500e9ba33"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>mark_inputs</b> (self)</td></tr>
<tr class="separator:aa48da3971179ee180374c0c500e9ba33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229d73865c024b6ea211f33d50a9dde0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a229d73865c024b6ea211f33d50a9dde0"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>mark_weights</b> (self, sess)</td></tr>
<tr class="separator:a229d73865c024b6ea211f33d50a9dde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51409e414bce24b281700540c5230409"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#a51409e414bce24b281700540c5230409">get_parent_of_tensor</a> (tensor)</td></tr>
<tr class="separator:a51409e414bce24b281700540c5230409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8eb2644dd0fd16d480834dc25d395d6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#ab8eb2644dd0fd16d480834dc25d395d6">is_tensor_const</a> (tf_tensor, sess)</td></tr>
<tr class="separator:ab8eb2644dd0fd16d480834dc25d395d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b65ae52cb4e7ebf335b550b95a7cb0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#ae8b65ae52cb4e7ebf335b550b95a7cb0">skip_tensor_inputs</a> (tf_tensor)</td></tr>
<tr class="separator:ae8b65ae52cb4e7ebf335b550b95a7cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150a0f37c01771a2e3cb0c953ce16352"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#a150a0f37c01771a2e3cb0c953ce16352">tf_to_tensor</a> (tf_tensor, sess)</td></tr>
<tr class="separator:a150a0f37c01771a2e3cb0c953ce16352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdcc32c48ab9cc8a2b6e9af41193068"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fdcc32c48ab9cc8a2b6e9af41193068"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>tf_to_operation</b> (tf_opr, sess)</td></tr>
<tr class="separator:a2fdcc32c48ab9cc8a2b6e9af41193068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace269ff2d4b4792befd4d6de94df57d1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#ace269ff2d4b4792befd4d6de94df57d1">merge_tensor_parameters</a> (graph)</td></tr>
<tr class="separator:ace269ff2d4b4792befd4d6de94df57d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ba2bac9a8feaf5acdd0865b1cf508d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#af4ba2bac9a8feaf5acdd0865b1cf508d">reshape_filter_tensors</a> (graph)</td></tr>
<tr class="separator:af4ba2bac9a8feaf5acdd0865b1cf508d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5450e918bb002f9db5d11b62fde8dd4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetf__min_1_1graph__from__tf.html#ab5450e918bb002f9db5d11b62fde8dd4">graph_from_tf_sess</a> (sess, outputs, verbose=False, pipeline=None)</td></tr>
<tr class="separator:ab5450e918bb002f9db5d11b62fde8dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a32dcdcf17dde7420f6bfb70555e45f84"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>TF_OP_TRANSLATIONS</b></td></tr>
<tr class="separator:a32dcdcf17dde7420f6bfb70555e45f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964b35d419af07234415f6b07c30bad4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a964b35d419af07234415f6b07c30bad4"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>skipped_ops</b> = []</td></tr>
<tr class="separator:a964b35d419af07234415f6b07c30bad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">    TFMin v1.0 Minimal TensorFlow to C++ exporter
    ------------------------------------------

    Copyright (C) 2019 Pete Blacker, Surrey Space Centre &amp; Airbus Defence and 
    Space Ltd.
    Pete.Blacker@Surrey.ac.uk
    https://www.surrey.ac.uk/surrey-space-centre/research-groups/on-board-data-handling

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    in the LICENCE file of this software.  If not, see
    &lt;http://www.gnu.org/licenses/&gt;.

    ---------------------------------------------------------------------

    This module contains the Tensorflow v1.x importer which generates a 
    TFMin Graph object from a Tensorflow interactive session. 
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae05455fa3fc383854f12f44c15ec0cae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.get_opr_input_params </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tf_opr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to extract effective parameterw which TF insists on passing as
tensor inputs. This is really messey, so this function extracts their
values adds them as const parameters instead and removes the link to the
input tensor
:param tf_opr:
:param sess: tf.InteractiveSession used to resolve contant values
:return:
</pre> 
</div>
</div>
<a class="anchor" id="a51409e414bce24b281700540c5230409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.get_parent_of_tensor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tensor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the parent operation of the given tensor object.</pre> 
</div>
</div>
<a class="anchor" id="ab5450e918bb002f9db5d11b62fde8dd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.graph_from_tf_sess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pipeline</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">method to populate this grah from the given session and list of output
tensors
:param sess: TF interactive session which includes the source flow graph
:param outputs: list of output tensors (either string of their
                name or objects)
:param verbose: boolean, if true a summary of the import and
                graph_simplification conducted
:param pipeline: None or tf_min.Pipeline to use for graph simplication.
:return: True on success, False on failure
</pre> 
</div>
</div>
<a class="anchor" id="ab8eb2644dd0fd16d480834dc25d395d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.is_tensor_const </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tf_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function which checks if this tensor does not depend on any input tensors,
i.e. it only depends on Const or Variable tensors and can be precalculated.
:param tf_tensor: tf.Tensor object to check
:param sess: tf.Session object used to resolve is parent operations are
             constants.
:return: True if this tensor has a constant value
</pre> 
</div>
</div>
<a class="anchor" id="ace269ff2d4b4792befd4d6de94df57d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.merge_tensor_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to capture operation parameters which tensorflow decided to
store as tensors. Our graphs are static so we have no need for variable
parameters.
:param graph: TFMin.Graph to process
:return: None
</pre> 
</div>
</div>
<a class="anchor" id="af4ba2bac9a8feaf5acdd0865b1cf508d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.reshape_filter_tensors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tensorflow uses a [H, W, InChan, OutChan] filter tensor
indexing scheme. This function converts this to the standard used by
TFLite and this library which is [OutChan, H, W, InChan]
:param graph: tf_min.Graph to update in place
:return: Int, number of filter weights updated
</pre> 
</div>
</div>
<a class="anchor" id="ae8b65ae52cb4e7ebf335b550b95a7cb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.skip_tensor_inputs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tf_tensor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function which adds all input operations of the given tensor to the
skipped_ops list. This is used when blocks of operations with a constant
value are simplified during import.
:param tf_tensor: tensor to skip inputs of
:return: None
</pre> 
</div>
</div>
<a class="anchor" id="a150a0f37c01771a2e3cb0c953ce16352"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tf_min.graph_from_tf.tf_to_tensor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tf_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a new TFMin.Tensor object from a tf.Tensor
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a32dcdcf17dde7420f6bfb70555e45f84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary tf_min.graph_from_tf.TF_OP_TRANSLATIONS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacetf__min_1_1graph__from__tf.html">    1</a></span>&#160;= {<span class="stringliteral">&#39;DepthwiseConv2DNative&#39;</span>: <span class="stringliteral">&#39;DepthwiseConv2D&#39;</span>,</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                      <span class="stringliteral">&#39;Conv2DBackpropInput&#39;</span>: <span class="stringliteral">&#39;TransposedConv2D&#39;</span>}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
